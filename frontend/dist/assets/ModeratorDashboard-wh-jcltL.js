import{_ as h,r as g,o as B,c as s,a as t,F as _,b as f,t as p,n as D,d as u,e as o,f as $,w as v,v as k,g as m,h as V}from"./index-CYsll1nN.js";const L={class:"bg-white dark:bg-gray-800 rounded-lg shadow p-6"},U={key:0,class:"text-center py-6 text-gray-600 dark:text-gray-400"},M={key:1,class:"text-center py-6 text-gray-500 dark:text-gray-400"},R={key:2},S={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},C={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},E={class:"px-4 py-2"},I={class:"px-4 py-2"},N={class:"px-4 py-2"},A={class:"px-4 py-2"},F={class:"px-4 py-2"},T={class:"px-4 py-2 flex gap-2"},z=["onClick","disabled"],O=["onClick","disabled"],j={__name:"ReportList",setup(w){const n=g([]),a=g(!0);async function r(){a.value=!0;try{const l=await u.get("/moderation/reports/");n.value=l.data.results||l.data}catch{n.value=[]}a.value=!1}B(r);async function y(l){await u.put("/moderation/approve/",{report_id:l}),r()}async function c(l){await u.put("/moderation/deny/",{report_id:l}),r()}return(l,i)=>(o(),s("div",L,[i[1]||(i[1]=t("h2",{class:"text-2xl font-bold mb-4 text-gray-800 dark:text-gray-200"},"Moderation Reports",-1)),a.value?(o(),s("div",U,"Loading reports...")):n.value.length===0?(o(),s("div",M,"No reports found.")):(o(),s("div",R,[t("table",S,[i[0]||(i[0]=t("thead",{class:"bg-gray-50 dark:bg-gray-900"},[t("tr",null,[t("th",{class:"px-4 py-2 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase"},"ID"),t("th",{class:"px-4 py-2 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase"},"Type"),t("th",{class:"px-4 py-2 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase"},"User"),t("th",{class:"px-4 py-2 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase"},"Bookmark"),t("th",{class:"px-4 py-2 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase"},"Status"),t("th",{class:"px-4 py-2 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase"},"Actions")])],-1)),t("tbody",C,[(o(!0),s(_,null,f(n.value,e=>(o(),s("tr",{key:e.id},[t("td",E,p(e.id),1),t("td",I,p(e.report_type),1),t("td",N,p(e.user||"Unknown"),1),t("td",A,p(e.bookmark||"Unknown"),1),t("td",F,[t("span",{class:D(e.is_resolved?"text-green-600 dark:text-green-400":"text-yellow-600 dark:text-yellow-400")},p(e.is_resolved?"Resolved":"Open"),3)]),t("td",T,[t("button",{onClick:x=>y(e.id),disabled:e.is_resolved,class:"px-3 py-1 rounded bg-green-600 text-white hover:bg-green-700 disabled:opacity-50"},"Approve",8,z),t("button",{onClick:x=>c(e.id),disabled:e.is_resolved,class:"px-3 py-1 rounded bg-red-600 text-white hover:bg-red-700 disabled:opacity-50"},"Deny",8,O)])]))),128))])])]))]))}},q=h(j,[["__scopeId","data-v-c0b7d5c2"]]),G={class:"bg-white dark:bg-gray-800 rounded-lg shadow p-6"},H={key:0,class:"mb-6"},J={class:"w-32 text-gray-700 dark:text-gray-300"},K=["onUpdate:modelValue","disabled"],P={key:1},Q={class:"w-32 text-gray-700 dark:text-gray-300"},W=["onUpdate:modelValue","disabled"],X={__name:"EditLookup",setup(w){const n=g(""),a=g(null),r=g(null);async function y(){const i=await u.get(`/moderation/lookup-bookmark/${n.value}/`);if(a.value=i.data,a.value.video){const e=await u.get(`/videos/${a.value.video}/`);r.value=e.data}}async function c(){await u.put("/moderation/edit-bookmark/",{bookmark_id:a.value.id,...a.value}),alert("Bookmark updated!")}async function l(){await u.put("/moderation/edit-video/",{video_id:r.value.id,...r.value}),alert("Video updated!")}return(i,e)=>(o(),s("div",G,[e[6]||(e[6]=t("h3",{class:"text-xl font-bold mb-4 text-gray-800 dark:text-gray-200"},"Lookup & Edit Bookmark/Video",-1)),t("form",{onSubmit:m(y,["prevent"]),class:"flex gap-2 mb-4"},[v(t("input",{"onUpdate:modelValue":e[0]||(e[0]=x=>n.value=x),placeholder:"Enter Bookmark ID",class:"px-3 py-2 rounded border border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 text-gray-800 dark:text-gray-200"},null,512),[[k,n.value]]),e[1]||(e[1]=t("button",{type:"submit",class:"px-4 py-2 rounded bg-blue-600 text-white hover:bg-blue-700"},"Lookup",-1))],32),a.value?(o(),s("div",H,[e[3]||(e[3]=t("h4",{class:"text-lg font-semibold mb-2 text-gray-800 dark:text-gray-200"},"Bookmark Details",-1)),t("form",{onSubmit:m(c,["prevent"]),class:"space-y-2"},[(o(!0),s(_,null,f(a.value,(x,d)=>(o(),s("div",{key:d,class:"flex items-center gap-2"},[t("label",J,p(d),1),v(t("input",{"onUpdate:modelValue":b=>a.value[d]=b,disabled:d==="id",class:"flex-1 px-3 py-2 rounded border border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 text-gray-800 dark:text-gray-200"},null,8,K),[[k,a.value[d]]])]))),128)),e[2]||(e[2]=t("button",{type:"submit",class:"px-4 py-2 rounded bg-green-600 text-white hover:bg-green-700"},"Save",-1))],32)])):$("",!0),r.value?(o(),s("div",P,[e[5]||(e[5]=t("h4",{class:"text-lg font-semibold mb-2 text-gray-800 dark:text-gray-200"},"Video Details",-1)),t("form",{onSubmit:m(l,["prevent"]),class:"space-y-2"},[(o(!0),s(_,null,f(r.value,(x,d)=>(o(),s("div",{key:d,class:"flex items-center gap-2"},[t("label",Q,p(d),1),v(t("input",{"onUpdate:modelValue":b=>r.value[d]=b,disabled:d==="id",class:"flex-1 px-3 py-2 rounded border border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 text-gray-800 dark:text-gray-200"},null,8,W),[[k,r.value[d]]])]))),128)),e[4]||(e[4]=t("button",{type:"submit",class:"px-4 py-2 rounded bg-green-600 text-white hover:bg-green-700"},"Save",-1))],32)])):$("",!0)]))}},Y=h(X,[["__scopeId","data-v-ee647084"]]),Z={class:"moderator-dashboard"},tt={__name:"ModeratorDashboard",setup(w){return(n,a)=>(o(),s("div",Z,[a[2]||(a[2]=t("h1",{class:"text-3xl font-bold mb-6 text-gray-800 dark:text-gray-200"},"Moderator Dashboard",-1)),t("section",null,[a[0]||(a[0]=t("h2",{class:"text-xl font-semibold mb-4 text-gray-800 dark:text-gray-200"},"Reports",-1)),V(q)]),t("section",null,[a[1]||(a[1]=t("h2",{class:"text-xl font-semibold mb-4 text-gray-800 dark:text-gray-200"},"Edit Bookmark/Video",-1)),V(Y)])]))}},at=h(tt,[["__scopeId","data-v-46c6d29a"]]);export{at as default};
